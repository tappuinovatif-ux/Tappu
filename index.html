<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tappu - Platform Pembelajaran</title>
    <script>
        // Redirect to landing.html
        window.location.href = 'landing.html';
    </script>
</head>
<body>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h2>Mengalihkan ke Tappu...</h2>
        <p>Jika tidak dialihkan otomatis, <a href="landing.html">klik di sini</a></p>
    </div>
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Login ke Tappu</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="userType">Tipe Pengguna:</label>
                    <select id="userType" name="userType" required>
                        <option value="">Pilih Tipe Pengguna</option>
                        <option value="siswa">Siswa</option>
                        <option value="guru">Guru</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <button type="submit" class="btn-primary">Login</button>
            </form>
        </div>
    </div>

    <!-- Header -->
    <header id="header">
        <nav class="navbar">
            <div class="nav-brand">
                <h1><i class="fas fa-graduation-cap"></i> Tappu</h1>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#beranda" class="nav-link active">Beranda</a></li>
                <li><a href="#kelas" class="nav-link">Kelas</a></li>
                <li><a href="#absensi" class="nav-link">Absensi</a></li>
                <li><a href="#" id="loginBtn" class="nav-link">Login</a></li>
                <li><a href="#" id="logoutBtn" class="nav-link" style="display: none;">Logout</a></li>
            </ul>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- User Info -->
    <div id="userInfo" class="user-info" style="display: none;">
        <div class="container">
            <p>Selamat datang, <span id="currentUser"></span> (<span id="currentUserType"></span>)</p>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Beranda Section -->
        <section id="beranda" class="section active">
            <div class="hero">
                <div class="hero-content">
                    <h1>Selamat Datang di Tappu</h1>
                    <p>Platform Pembelajaran Terintegrasi dengan ESP32 dan Google Drive</p>
                    <div class="hero-features">
                        <div class="feature-card">
                            <i class="fas fa-book"></i>
                            <h3>Materi Pembelajaran</h3>
                            <p>Akses materi dari Google Drive</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-tasks"></i>
                            <h3>Manajemen Tugas</h3>
                            <p>Kelola tugas dengan mudah</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-chart-pie"></i>
                            <h3>Absensi Digital</h3>
                            <p>Monitoring kehadiran real-time</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-microchip"></i>
                            <h3>Integrasi ESP32</h3>
                            <p>Koneksi dengan perangkat IoT</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kelas Section -->
        <section id="kelas" class="section">
            <div class="container">
                <h2>Daftar Kelas</h2>
                <div class="kelas-grid">
                    <div class="kelas-card" data-kelas="matematika">
                        <h3>Matematika</h3>
                        <p>Kelas X - Semester 1</p>
                        <div class="kelas-info">
                            <span><i class="fas fa-users"></i> 30 Siswa</span>
                            <span><i class="fas fa-book"></i> 12 Materi</span>
                        </div>
                        <button class="btn-secondary masuk-kelas-btn">Masuk Kelas</button>
                    </div>
                    <div class="kelas-card" data-kelas="fisika">
                        <h3>Fisika</h3>
                        <p>Kelas X - Semester 1</p>
                        <div class="kelas-info">
                            <span><i class="fas fa-users"></i> 28 Siswa</span>
                            <span><i class="fas fa-book"></i> 10 Materi</span>
                        </div>
                        <button class="btn-secondary masuk-kelas-btn">Masuk Kelas</button>
                    </div>
                    <div class="kelas-card" data-kelas="kimia">
                        <h3>Kimia</h3>
                        <p>Kelas X - Semester 1</p>
                        <div class="kelas-info">
                            <span><i class="fas fa-users"></i> 25 Siswa</span>
                            <span><i class="fas fa-book"></i> 8 Materi</span>
                        </div>
                        <button class="btn-secondary masuk-kelas-btn">Masuk Kelas</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Detail Kelas Section -->
        <section id="detail-kelas" class="section">
            <div class="container">
                <div class="kelas-header">
                    <button id="backToKelas" class="btn-back">
                        <i class="fas fa-arrow-left"></i> Kembali ke Daftar Kelas
                    </button>
                    <h2 id="kelasTitle">Matematika</h2>
                </div>
                
                <div class="kelas-nav">
                    <button class="tab-btn active" data-tab="rangkuman-materi">Rangkuman Materi</button>
                    <button class="tab-btn" data-tab="tugas">Tugas</button>
                </div>

                <!-- Rangkuman Materi -->
                <div id="rangkuman-materi" class="tab-content active">
                    <div class="materi-header">
                        <h3>Rangkuman Materi</h3>
                        <button id="syncGoogleDrive" class="btn-primary">
                            <i class="fas fa-sync"></i> Sinkron Google Drive
                        </button>
                    </div>
                    <div class="materi-list" id="materiList">
                        <div class="materi-item">
                            <div class="materi-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="materi-info">
                                <h4>Aljabar Linear</h4>
                                <p>Matematika - Uploaded 2 hari yang lalu</p>
                            </div>
                            <div class="materi-actions">
                                <button class="btn-icon"><i class="fas fa-eye"></i></button>
                                <button class="btn-icon"><i class="fas fa-download"></i></button>
                            </div>
                        </div>
                        <div class="materi-item">
                            <div class="materi-icon">
                                <i class="fas fa-file-powerpoint"></i>
                            </div>
                            <div class="materi-info">
                                <h4>Persamaan Kuadrat</h4>
                                <p>Matematika - Uploaded 1 minggu yang lalu</p>
                            </div>
                            <div class="materi-actions">
                                <button class="btn-icon"><i class="fas fa-eye"></i></button>
                                <button class="btn-icon"><i class="fas fa-download"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tugas -->
                <div id="tugas" class="tab-content">
                    <div class="tugas-header">
                        <h3>Manajemen Tugas</h3>
                        <button id="addTugas" class="btn-primary" style="display: none;">
                            <i class="fas fa-plus"></i> Tambah Tugas
                        </button>
                    </div>
                    <div class="tugas-list" id="tugasList">
                        <div class="tugas-item">
                            <div class="tugas-info">
                                <h4>Soal Aljabar Linear</h4>
                                <p>Deadline: 25 September 2024</p>
                                <span class="status pending">Pending</span>
                            </div>
                            <div class="tugas-actions">
                                <button class="btn-secondary">Lihat Detail</button>
                            </div>
                        </div>
                        <div class="tugas-item">
                            <div class="tugas-info">
                                <h4>Latihan Persamaan Kuadrat</h4>
                                <p>Deadline: 30 September 2024</p>
                                <span class="status completed">Selesai</span>
                            </div>
                            <div class="tugas-actions">
                                <button class="btn-secondary">Lihat Detail</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Absensi Section -->
        <section id="absensi" class="section">
            <div class="container">
                <h2>Absensi</h2>
                <div class="absensi-controls">
                    <div class="control-group">
                        <label for="kelasSelect">Pilih Kelas:</label>
                        <select id="kelasSelect">
                            <option value="matematika">Matematika</option>
                            <option value="fisika">Fisika</option>
                            <option value="kimia">Kimia</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="bulanSelect">Pilih Bulan:</label>
                        <select id="bulanSelect">
                            <option value="september">September 2024</option>
                            <option value="oktober">Oktober 2024</option>
                        </select>
                    </div>
                    <button id="refreshAbsensi" class="btn-primary">
                        <i class="fas fa-sync"></i> Refresh Data
                    </button>
                </div>
                
                <div class="absensi-content">
                    <div class="absensi-stats">
                        <div class="stat-card">
                            <h3>Total Siswa</h3>
                            <p class="stat-number">30</p>
                        </div>
                        <div class="stat-card">
                            <h3>Hadir Hari Ini</h3>
                            <p class="stat-number">28</p>
                        </div>
                        <div class="stat-card">
                            <h3>Tidak Hadir</h3>
                            <p class="stat-number">2</p>
                        </div>
                        <div class="stat-card">
                            <h3>Persentase Kehadiran</h3>
                            <p class="stat-number">93%</p>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="absensiChart"></canvas>
                    </div>
                </div>

                <!-- ESP32 Status -->
                <div class="esp32-status">
                    <h3>Status ESP32</h3>
                    <div class="device-status">
                        <div class="status-indicator online"></div>
                        <span>ESP32 Device - Online</span>
                        <button id="connectESP32" class="btn-secondary">Reconnect</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Tugas Modal -->
    <div id="tugasModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Tambah Tugas Baru</h2>
            <form id="tugasForm">
                <div class="form-group">
                    <label for="tugasTitle">Judul Tugas:</label>
                    <input type="text" id="tugasTitle" name="tugasTitle" required>
                </div>
                <div class="form-group">
                    <label for="tugasKelas">Kelas:</label>
                    <select id="tugasKelas" name="tugasKelas" required>
                        <option value="">Pilih Kelas</option>
                        <option value="matematika">Matematika</option>
                        <option value="fisika">Fisika</option>
                        <option value="kimia">Kimia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tugasDeadline">Deadline:</label>
                    <input type="datetime-local" id="tugasDeadline" name="tugasDeadline" required>
                </div>
                <div class="form-group">
                    <label for="tugasDescription">Deskripsi:</label>
                    <textarea id="tugasDescription" name="tugasDescription" rows="4"></textarea>
                </div>
                <button type="submit" class="btn-primary">Tambah Tugas</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
